<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-dark" id="portal-nav">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Developer Portal</span>
        </div>
    </nav>

    <div class="container mt-5">
        <!-- IDE Integration Info -->
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            <h5 class="alert-heading"><strong>üöÄ New Feature: Open Projects in IDE</strong></h5>
            <p class="mb-0">
                Click the IDE button next to any project to open it directly in your preferred editor:
                <strong class="text-info">WebStorm</strong> (cyan) for npm projects or
                <strong class="text-danger">IntelliJ IDEA</strong> (red) for Java projects.
                <em>Note: The appropriate IDE must be installed with URL handler support enabled.</em>
            </p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>

        <!-- Project Tabs -->
        <ul class="nav nav-tabs" id="projectTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="freg-tab" data-bs-toggle="tab" data-bs-target="#freg" type="button" role="tab">
                    Freg
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="family-tree-tab" data-bs-toggle="tab" data-bs-target="#family-tree" type="button" role="tab">
                    Family Tree
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="fee-pay-tab" data-bs-toggle="tab" data-bs-target="#fee-pay" type="button" role="tab">
                    Fee & Pay (CCPAY)
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="movies-tab" data-bs-toggle="tab" data-bs-target="#movies" type="button" role="tab">
                    Movies
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="vote-tab" data-bs-toggle="tab" data-bs-target="#vote" type="button" role="tab">
                    Vote
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="share-tab" data-bs-toggle="tab" data-bs-target="#share" type="button" role="tab">
                    Share
                </button>
            </li>
            <li class="nav-item ms-auto" role="presentation">
                <button class="nav-link" id="reference-tab" data-bs-toggle="tab" data-bs-target="#reference" type="button" role="tab">
                    Reference Projects
                </button>
            </li>
        </ul>

        <div class="tab-content" id="projectTabsContent">
            <!-- FREG Tab -->
            <div class="tab-pane fade show active" id="freg" role="tabpanel">
                <!-- Stack Control -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <div class="card border-primary">
                            <div class="card-body">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <h4 class="mb-1">Freg Stack Control</h4>
                                            <p class="mb-0 text-muted">Start/stop all Freg services (Angular + React + API + DB)</p>
                                        </div>
                                        <span class="stack-status-dot stack-status-stopped" data-stack-id="freg">‚óè</span>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input stack-toggle" type="checkbox" data-stack-id="freg" onchange="toggleStack('freg', this)" style="width: 60px; height: 30px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <!-- Freg Applications -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:4201" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Chris Freg React
                                            <span class="badge bg-secondary ms-2" data-service-branch="freg-react">...</span>
                                        </h5>
                                            <small>:4201</small>
                                        </div>
                                        <p class="mb-1">React fees register application</p>
                                    </a>
                                    <a href="http://localhost:4200" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Chris Freg Angular
                                            <span class="badge bg-secondary ms-2" data-service-branch="freg-angular">...</span>
                                        </h5>
                                            <small>:4200</small>
                                        </div>
                                        <p class="mb-1">Angular fees register application</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Freg APIs -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">APIs</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:5100/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Chris Freg API
                                            <span class="badge bg-secondary ms-2" data-service-branch="freg-api">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:5100/health">:5100</small>
                                        </div>
                                        <p class="mb-1">Fees register API</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAMILY TREE Tab -->
            <div class="tab-pane fade" id="family-tree" role="tabpanel">
                <div class="row mt-3">
                    <!-- Family Tree Application -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Application</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:3200" target="_blank" class="list-group-item list-group-item-action active">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">Family Tree App</h5>
                                            <small class="health-indicator" data-url="http://localhost:3200/login">:3200</small>
                                        </div>
                                        <p class="mb-1">Spring Boot 3 + Thymeleaf with D3.js tree visualization</p>
                                        <small>Users: chris, family-au, family-ca, family-uk (password: changeme)</small>
                                    </a>
                                </div>
                                <h5 class="mt-4">REST API Endpoints:</h5>
                                <div class="list-group list-group-flush small">
                                    <a href="http://localhost:3200/api/trees/my-family/hierarchy" target="_blank" class="list-group-item list-group-item-action py-1">
                                        <code>GET /api/trees/{slug}/hierarchy</code> - D3.js tree format
                                    </a>
                                    <a href="http://localhost:3200/api/trees/my-family/family-chart" target="_blank" class="list-group-item list-group-item-action py-1">
                                        <code>GET /api/trees/{slug}/family-chart</code> - Flat array format
                                    </a>
                                    <a href="http://localhost:3200/api/persons/1000" target="_blank" class="list-group-item list-group-item-action py-1">
                                        <code>GET /api/persons/{id}</code> - Person with relationships
                                    </a>
                                    <a href="http://localhost:3200/api/persons/search?name=Wrathall" target="_blank" class="list-group-item list-group-item-action py-1">
                                        <code>GET /api/persons/search</code> - Search by name/place
                                    </a>
                                </div>
                                <p class="mt-2 mb-0"><small class="text-muted">Full API collection: <code>bruno-collection/</code></small></p>
                            </div>
                        </div>
                    </div>

                    <!-- Database Statistics -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">Database</h3>
                            </div>
                            <div class="card-body">
                                <p class="text-muted mb-3"><code>genealogy.db</code> (SQLite)</p>
                                <div class="row text-center">
                                    <div class="col-4">
                                        <h2 class="mb-0 text-primary">68K+</h2>
                                        <small class="text-muted">People</small>
                                    </div>
                                    <div class="col-4">
                                        <h2 class="mb-0 text-success">9,975</h2>
                                        <small class="text-muted">DNA Matches</small>
                                    </div>
                                    <div class="col-4">
                                        <h2 class="mb-0 text-info">435</h2>
                                        <small class="text-muted">Match Trees</small>
                                    </div>
                                </div>
                                <hr>
                                <div class="row text-center">
                                    <div class="col-6">
                                        <h4 class="mb-0">121</h4>
                                        <small class="text-muted">Census Records</small>
                                    </div>
                                    <div class="col-6">
                                        <h4 class="mb-0">14K+</h4>
                                        <small class="text-muted">Shared Matches</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Scripts -->
                        <div class="card mt-3">
                            <div class="card-header bg-secondary text-white">
                                <h3 class="mb-0">Scripts</h3>
                            </div>
                            <div class="card-body">
                                <p class="text-muted mb-2"><code>scripts/</code> (Python + Playwright)</p>
                                <ul class="list-unstyled small mb-0">
                                    <li><strong>ancestry_import.py</strong> - Import DNA matches from Ancestry</li>
                                    <li><strong>import_shared_matches.py</strong> - Import shared match data</li>
                                    <li><strong>import_match_trees.py</strong> - Import match family trees</li>
                                    <li><strong>cluster_matches.py</strong> - Cluster DNA matches</li>
                                    <li><strong>search_freecen.py</strong> - Search FreeCEN census records</li>
                                    <li><strong>batch_freecen_search.py</strong> - Batch census searches</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- System Info -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">System Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h5>Tech Stack:</h5>
                                        <ul class="list-unstyled">
                                            <li><strong>Backend:</strong> Spring Boot 3.4.1, Java 17</li>
                                            <li><strong>Frontend:</strong> Thymeleaf + D3.js</li>
                                            <li><strong>Database:</strong> SQLite</li>
                                            <li><strong>Auth:</strong> Spring Security Form Login</li>
                                            <li><strong>Scripts:</strong> Python 3 + Playwright</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Features:</h5>
                                        <ul class="list-unstyled">
                                            <li>Interactive D3.js tree visualization</li>
                                            <li>REST API for persons, trees, census</li>
                                            <li>Per-user tree access control</li>
                                            <li>Ancestry DNA match import</li>
                                            <li>Census record linking</li>
                                            <li>Match clustering analysis</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Configured Trees:</h5>
                                        <ul class="list-unstyled">
                                            <li>My Direct Line (Worthington)</li>
                                            <li>Worthington Family</li>
                                            <li>Wood Family</li>
                                            <li>Wrathall Family</li>
                                            <li>Goodall Family</li>
                                            <li>Heywood, Tart, Virgo</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FEE & PAY (CCPAY) Tab -->
            <div class="tab-pane fade" id="fee-pay" role="tabpanel">
                <!-- Stack Control -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <div class="card border-primary">
                            <div class="card-body">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <h4 class="mb-1">Fee & Pay Stack Control</h4>
                                            <p class="mb-0 text-muted">Start/stop all Fee & Pay services (Frontend + APIs + DBs + RabbitMQ)</p>
                                        </div>
                                        <span class="stack-status-dot stack-status-stopped" data-stack-id="feepay">‚óè</span>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input stack-toggle" type="checkbox" data-stack-id="feepay" onchange="toggleStack('feepay', this)" style="width: 60px; height: 30px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <!-- Fee & Pay Applications -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:3000" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            CCPAY Bubble (Frontend)
                                            <span class="badge bg-secondary ms-2" data-service-branch="ccpay-bubble">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:3000/health">:3000</small>
                                        </div>
                                        <p class="mb-1">Angular payment frontend application</p>
                                    </a>
                                    <a href="http://localhost:3010" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            PayBubble Angular Wireframe
                                            <span class="badge bg-secondary ms-2" data-service-branch="paybubble-ang">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:3010">:3010</small>
                                        </div>
                                        <p class="mb-1">Simplified wireframe with stubbed data - no auth required</p>
                                    </a>
                                    <a href="http://localhost:3011" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            PayBubble React
                                            <span class="badge bg-secondary ms-2" data-service-branch="paybubble-react">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:3011">:3011</small>
                                        </div>
                                        <p class="mb-1">React payment UI with JWT authentication - Auto-redirects to auth-server</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fee & Pay APIs -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">APIs & Services</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:8080/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">CCPAY Payment API (Java)</h5>
                                            <small class="health-indicator" data-url="http://localhost:8080/health">:8080</small>
                                        </div>
                                        <p class="mb-1">Spring Boot payment API</p>
                                    </a>
                                    <a href="http://localhost:5556/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">RSE IDAM Simulator</h5>
                                            <small class="health-indicator" data-url="http://localhost:5556/health">:5556</small>
                                        </div>
                                        <p class="mb-1">IDAM authentication simulator</p>
                                    </a>
                                    <a href="http://localhost:4452/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">CCD API Mock (Node)</h5>
                                            <small class="health-indicator" data-url="http://localhost:4452/health">:4452</small>
                                        </div>
                                        <p class="mb-1">Case data API mock</p>
                                    </a>
                                    <a href="http://localhost:8489/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">S2S Mock</h5>
                                            <small class="health-indicator" data-url="http://localhost:8489/health">:8489</small>
                                        </div>
                                        <p class="mb-1">Service-to-service auth mock</p>
                                    </a>
                                    <a href="http://localhost:15672" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">RabbitMQ Management</h5>
                                            <small>:15672</small>
                                        </div>
                                        <p class="mb-1">Message broker (admin/admin)</p>
                                    </a>
                                    <a href="http://localhost:3500/api/cases/ccd/1000000000000001" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            DB Tool Spring Boot
                                            <span class="badge bg-secondary ms-2" data-service-branch="db-tool-spring-boot">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:3500/api/cases/ccd/1000000000000001">:3500</small>
                                        </div>
                                        <p class="mb-1">Database query tool for payments and refunds</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- E2E Credentials -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">E2E Test Credentials</h3>
                            </div>
                            <div class="card-body">
                                <p class="mb-2"><strong>All test users password:</strong> <code>Monday01</code></p>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5>Test Users:</h5>
                                        <ul class="list-unstyled">
                                            <li><code>probatedraftcasecreator@mailinator.com</code> - Probate caseworker</li>
                                            <li><code>refundsapprover@mailinator.com</code> - Refunds approver</li>
                                            <li><code>divorcecaseworker@mailinator.com</code> - Divorce caseworker</li>
                                            <li><code>cmccaseworker@mailinator.com</code> - CMC caseworker</li>
                                            <li><code>paymentscaseworker@mailinator.com</code> - General payments</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h5>Database:</h5>
                                        <ul class="list-unstyled">
                                            <li><strong>Host:</strong> localhost:5446</li>
                                            <li><strong>Database:</strong> payments</li>
                                            <li><strong>User:</strong> postgres</li>
                                            <li><strong>Password:</strong> postgres</li>
                                        </ul>
                                        <p class="mt-2">
                                            <a href="/CCPAY-E2E-CREDENTIALS.md" target="_blank" class="btn btn-sm btn-info">
                                                View Full Credentials
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MOVIES Tab -->
            <div class="tab-pane fade" id="movies" role="tabpanel">
                <!-- Stack Control -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <div class="card border-primary">
                            <div class="card-body">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <h4 class="mb-1">Movies Stack Control</h4>
                                            <p class="mb-0 text-muted">Start/stop all Movies services (All UIs + API + DBs)</p>
                                        </div>
                                        <span class="stack-status-dot stack-status-stopped" data-stack-id="movies">‚óè</span>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input stack-toggle" type="checkbox" data-stack-id="movies" onchange="toggleStack('movies', this)" style="width: 60px; height: 30px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <!-- Movies Applications -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:4206" target="_blank" class="list-group-item list-group-item-action active">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            üé® Movies Wireframe (DEV ENVIRONMENT)
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-wireframe">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:4206">:4206</small>
                                        </div>
                                        <p class="mb-1"><strong>START HERE!</strong> Vanilla JS wireframe for rapid feature development - featuring "Bark to the Future" üêï</p>
                                    </a>
                                    <a href="http://localhost:4205" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Movies Vue (Production)
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-vue">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:4205">:4205</small>
                                        </div>
                                        <p class="mb-1">Production frontend with real API integration (Vue 3)</p>
                                    </a>
                                    <a href="http://localhost:4203" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Movies React
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-react">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:4203">:4203</small>
                                        </div>
                                        <p class="mb-1">Alternative frontend implementation (React 18)</p>
                                    </a>
                                    <a href="http://localhost:4204" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Movies Angular
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-angular">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:4204">:4204</small>
                                        </div>
                                        <p class="mb-1">Alternative frontend implementation (Angular 17)</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Movies APIs & Databases -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">APIs & Databases</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:3400/actuator/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Movies API
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-api">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:3400/actuator/health">:3400</small>
                                        </div>
                                        <p class="mb-1">Spring Boot recommendation API</p>
                                    </a>
                                    <a href="http://localhost:3400/graphiql" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">üöÄ Movies GraphQL Playground</h5>
                                            <small>:3400/graphiql</small>
                                        </div>
                                        <p class="mb-1">Interactive GraphQL API explorer - Query movies, recommendations, watchlist</p>
                                    </a>
                                    <div class="list-group-item">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Movies DB
                                            <span class="badge bg-secondary ms-2" data-service-branch="movies-db">...</span>
                                        </h5>
                                            <small>:5448</small>
                                        </div>
                                        <p class="mb-1">PostgreSQL - User data (watchlist, ratings, preferences)</p>
                                        <small class="text-muted">Host: localhost | DB: movies | User: movies</small>
                                    </div>
                                    <div class="list-group-item">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            IMDB DB
                                            <span class="badge bg-secondary ms-2" data-service-branch="imdb-db">...</span>
                                        </h5>
                                            <small>:5450</small>
                                        </div>
                                        <p class="mb-1">PostgreSQL - IMDB reference data (542K movies, 14.8M people)</p>
                                        <small class="text-muted">Host: localhost | DB: imdb | User: imdb</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Movies System Info -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">System Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5>Recommendation System:</h5>
                                        <ul class="list-unstyled">
                                            <li><strong>Algorithm:</strong> Hybrid content-based filtering</li>
                                            <li><strong>Key Weights:</strong> Actor (10.0), Director (5.0), Genre (2.0), IMDB (3.0)</li>
                                            <li><strong>Filters:</strong> Movies ‚â•1950, Rating ‚â•6.0, Votes ‚â•1000</li>
                                            <li><strong>Dataset:</strong> ~542,500 quality movies</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h5>Quick Links:</h5>
                                        <ul class="list-unstyled">
                                            <li><a href="https://github.com/chrisworth75/imdb-data" target="_blank" class="btn btn-sm btn-outline-primary">IMDB Data Repo</a></li>
                                            <li><a href="https://github.com/chrisworth75/movies-api" target="_blank" class="btn btn-sm btn-outline-primary mt-1">Movies API Repo</a></li>
                                            <li><a href="https://github.com/chrisworth75/movies-db" target="_blank" class="btn btn-sm btn-outline-primary mt-1">Movies DB Repo</a></li>
                                            <li><a href="https://github.com/chrisworth75/movies-react" target="_blank" class="btn btn-sm btn-outline-primary mt-1">Movies React Repo</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VOTE Tab -->
            <div class="tab-pane fade" id="vote" role="tabpanel">
                <!-- Stack Control -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <div class="card border-primary">
                            <div class="card-body">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <h4 class="mb-1">Vote Stack Control</h4>
                                            <p class="mb-0 text-muted">Start/stop all Vote services (UIs + API + DB)</p>
                                        </div>
                                        <span class="stack-status-dot stack-status-stopped" data-stack-id="vote">‚óè</span>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input stack-toggle" type="checkbox" data-stack-id="vote" onchange="toggleStack('vote', this)" style="width: 60px; height: 30px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <!-- Vote Applications -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:3005" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-ui">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote UI (Vanilla JS)
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-ui">...</span>
                                                        </h5>
                                                        <p class="mb-1">Original vanilla JS voting application with D3.js pie charts</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-3">
                                                <small class="health-indicator" data-url="http://localhost:3005">:3005</small>
                                                <div class="form-check form-switch" onclick="event.preventDefault(); event.stopPropagation();">
                                                    <input class="form-check-input service-toggle" type="checkbox" data-service-id="vote-ui" onchange="toggleService('vote-ui', this)">
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="http://localhost:5173" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-ui-vue">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote UI Vue
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-ui-vue">...</span>
                                                        </h5>
                                                        <p class="mb-1">Vue 3 voting application with reactive D3.js charts</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-3">
                                                <small class="health-indicator" data-url="http://localhost:5173">:5173</small>
                                                <div class="form-check form-switch" onclick="event.preventDefault(); event.stopPropagation();">
                                                    <input class="form-check-input service-toggle" type="checkbox" data-service-id="vote-ui-vue" onchange="toggleService('vote-ui-vue', this)">
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="http://localhost:3006" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-ui-react">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote UI React
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-ui-react">...</span>
                                                        </h5>
                                                        <p class="mb-1">React 18 voting application with TypeScript and D3.js</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-3">
                                                <small class="health-indicator" data-url="http://localhost:3006">:3006</small>
                                                <div class="form-check form-switch" onclick="event.preventDefault(); event.stopPropagation();">
                                                    <input class="form-check-input service-toggle" type="checkbox" data-service-id="vote-ui-react" onchange="toggleService('vote-ui-react', this)">
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="http://localhost:4207" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-ui-angular">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote UI Angular
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-ui-angular">...</span>
                                                        </h5>
                                                        <p class="mb-1">Angular 20 voting application with RxJS and D3.js</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-3">
                                                <small class="health-indicator" data-url="http://localhost:4207">:4207</small>
                                                <div class="form-check form-switch" onclick="event.preventDefault(); event.stopPropagation();">
                                                    <input class="form-check-input service-toggle" type="checkbox" data-service-id="vote-ui-angular" onchange="toggleService('vote-ui-angular', this)">
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Vote API & Database -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">API & Database</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:8085/api/polls" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-api">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote API
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-api">...</span>
                                                        </h5>
                                                        <p class="mb-1">Spring Boot REST API for voting</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <small class="health-indicator" data-url="http://localhost:8085/api/polls">:8085</small>
                                        </div>
                                    </a>
                                    <div class="list-group-item">
                                        <div class="d-flex w-100 justify-content-between align-items-center">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center">
                                                    <span class="service-status-dot stack-status-stopped" data-service-name="vote-db">‚óè</span>
                                                    <div class="ms-2">
                                                        <h5 class="mb-1">
                                                            Vote DB
                                                            <span class="badge bg-secondary ms-2" data-service-branch="vote-db">...</span>
                                                        </h5>
                                                        <p class="mb-1">PostgreSQL - Users, polls, and votes data</p>
                                                        <small class="text-muted">Host: localhost | DB: votedb | User: postgres</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <small>:5435</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Vote System Info -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">System Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h5>Features:</h5>
                                        <ul class="list-unstyled">
                                            <li><strong>Authentication:</strong> RSE IDAM Simulator</li>
                                            <li><strong>Voting:</strong> One vote per user per poll (can be changed)</li>
                                            <li><strong>Visualization:</strong> D3.js pie charts for real-time results</li>
                                            <li><strong>Auto-refresh:</strong> Results update every 3 seconds</li>
                                            <li><strong>Sample Polls:</strong> 4 pre-loaded polls</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Test Accounts:</h5>
                                        <ul class="list-unstyled">
                                            <li><code>alice@example.com</code> / <code>password</code></li>
                                            <li><code>bob@example.com</code> / <code>password</code></li>
                                        </ul>
                                        <h5 class="mt-3">Frameworks:</h5>
                                        <ul class="list-unstyled">
                                            <li>Vanilla JS (port 3005)</li>
                                            <li>Vue 3 + Pinia (port 5173)</li>
                                            <li>React 18 + Context (port 3006)</li>
                                            <li>Angular 20 + RxJS (port 4207)</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Quick Links:</h5>
                                        <ul class="list-unstyled">
                                            <li><a href="https://github.com/chrisworth75/vote-db" target="_blank" class="btn btn-sm btn-outline-primary">Vote DB Repo</a></li>
                                            <li><a href="https://github.com/chrisworth75/vote-api" target="_blank" class="btn btn-sm btn-outline-primary mt-1">Vote API Repo</a></li>
                                            <li><a href="https://github.com/chrisworth75/vote-ui" target="_blank" class="btn btn-sm btn-outline-primary mt-1">Vote UI Repo</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SHARE Tab -->
            <div class="tab-pane fade" id="share" role="tabpanel">
                <!-- Stack Control -->
                <div class="row mt-3">
                    <div class="col-12 mb-3">
                        <div class="card border-primary">
                            <div class="card-body">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <h4 class="mb-1">Share Stack Control</h4>
                                            <p class="mb-0 text-muted">Start/stop all Share services (API + DB)</p>
                                        </div>
                                        <span class="stack-status-dot stack-status-stopped" data-stack-id="share">‚óè</span>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input stack-toggle" type="checkbox" data-stack-id="share" onchange="toggleStack('share', this)" style="width: 60px; height: 30px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <!-- Share Applications (Future) -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <div class="list-group-item">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1 text-muted">Frontend (Coming Soon)</h5>
                                        </div>
                                        <p class="mb-1 text-muted">React/Angular/Vue frontend applications will be added here</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Share APIs -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">APIs & Database</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:8090/actuator/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Shareround API
                                            <span class="badge bg-secondary ms-2" data-service-branch="shareround-api">...</span>
                                        </h5>
                                            <small class="health-indicator" data-url="http://localhost:8090/actuator/health">:8090</small>
                                        </div>
                                        <p class="mb-1">Spring Boot 3.2 community sharing API (Java 21)</p>
                                    </a>
                                    <div class="list-group-item">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">
                                            Shareround DB
                                            <span class="badge bg-secondary ms-2" data-service-branch="shareround-db">...</span>
                                        </h5>
                                            <small>:5455</small>
                                        </div>
                                        <p class="mb-1">PostgreSQL - Communities, users, items, transactions, kudos</p>
                                        <small class="text-muted">Host: localhost:5455 | DB: shareround | User: shareround</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Share System Info -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">System Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h5>About Shareround:</h5>
                                        <p>Community sharing platform - "Freecycle for groups who know each other" with a kudos/reputation system.</p>
                                        <ul class="list-unstyled">
                                            <li><strong>Create Communities:</strong> Private groups with join codes</li>
                                            <li><strong>Share Items:</strong> List items you want to give away</li>
                                            <li><strong>Request Items:</strong> Ask for items you need</li>
                                            <li><strong>Build Reputation:</strong> Kudos system (1-5 stars)</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Tech Stack:</h5>
                                        <ul class="list-unstyled">
                                            <li><strong>Backend:</strong> Spring Boot 3.2, Java 21</li>
                                            <li><strong>Database:</strong> PostgreSQL + Flyway</li>
                                            <li><strong>Auth:</strong> Spring Security (JWT ready)</li>
                                            <li><strong>Docs:</strong> OpenAPI/Swagger</li>
                                            <li><strong>Tests:</strong> Testcontainers</li>
                                        </ul>
                                        <h5 class="mt-3">Modern Java Features:</h5>
                                        <ul class="list-unstyled">
                                            <li>Sealed classes for status flows</li>
                                            <li>Records for DTOs</li>
                                            <li>Pattern matching in switch</li>
                                            <li>Virtual threads enabled</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5>Item Status Flow:</h5>
                                        <code>AVAILABLE ‚Üí PROMISED ‚Üí COLLECTED ‚Üí CLOSED</code>
                                        <h5 class="mt-3">Request Status Flow:</h5>
                                        <code>PENDING ‚Üí ACCEPTED | REJECTED | WITHDRAWN</code>
                                        <h5 class="mt-3">API Testing:</h5>
                                        <p class="text-muted small">Bruno collection at:<br><code>dev-share/shareround/bruno/</code></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- REFERENCE PROJECTS Tab -->
            <div class="tab-pane fade" id="reference" role="tabpanel">
                <div class="row mt-3">
                    <!-- Reference Projects Info -->
                    <div class="col-12 mb-4">
                        <div class="alert alert-info" role="alert">
                            <h5 class="alert-heading">Reference Projects</h5>
                            <p>These are example projects used as references for learning and development. They are not part of the active development projects.</p>
                        </div>
                    </div>

                    <!-- Take Note Application -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0">Applications</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:5000" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">TakeNote</h5>
                                            <small class="health-indicator" data-url="http://localhost:5000">:5000</small>
                                        </div>
                                        <p class="mb-1">A web-based note-taking application with Markdown support</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reference Info -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0">About TakeNote</h3>
                            </div>
                            <div class="card-body">
                                <h5>Features:</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Markdown Support:</strong> Write notes in Markdown format</li>
                                    <li><strong>Categories:</strong> Organize notes with categories</li>
                                    <li><strong>Dark/Light Mode:</strong> Toggle between themes</li>
                                    <li><strong>Local Storage:</strong> Notes saved in browser</li>
                                </ul>
                                <h5 class="mt-3">Technology Stack:</h5>
                                <ul class="list-unstyled">
                                    <li>React + TypeScript</li>
                                    <li>Redux for state management</li>
                                    <li>CodeMirror for editing</li>
                                    <li>Markdown rendering</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- JWT Authentication Example -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0">Authentication Examples</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="http://localhost:3000" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">Auth Server</h5>
                                            <small class="health-indicator" data-url="http://localhost:3000">:3000</small>
                                        </div>
                                        <p class="mb-1">Next.js authentication server with JWT token generation</p>
                                    </a>
                                    <a href="http://localhost:5173" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">My React App</h5>
                                            <small class="health-indicator" data-url="http://localhost:5173">:5173</small>
                                        </div>
                                        <p class="mb-1">Example React app with JWT authentication and admin routes</p>
                                    </a>
                                    <a href="http://localhost:3001/api/health" target="_blank" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1">My React App API</h5>
                                            <small class="health-indicator" data-url="http://localhost:3001/api/health">:3001</small>
                                        </div>
                                        <p class="mb-1">Express backend with JWT verification middleware</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- JWT Auth Info -->
                    <div class="col-md-6 mb-4">
                        <div class="card">
                            <div class="card-header bg-info text-white">
                                <h3 class="mb-0">About JWT Authentication</h3>
                            </div>
                            <div class="card-body">
                                <h5>Architecture:</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Auth Server:</strong> Centralized authentication with NextAuth.js</li>
                                    <li><strong>JWT Tokens:</strong> Signed with HMAC-SHA256</li>
                                    <li><strong>Auto-redirect:</strong> Unauthenticated users redirected to login</li>
                                    <li><strong>Backend Verification:</strong> API validates JWT signatures</li>
                                </ul>
                                <h5 class="mt-3">Security Features:</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Signature Verification:</strong> Prevents token tampering</li>
                                    <li><strong>Role-Based Access:</strong> Admin vs user permissions</li>
                                    <li><strong>Protected APIs:</strong> All data requests verified</li>
                                    <li><strong>Playwright Tests:</strong> Automated security testing</li>
                                </ul>
                                <h5 class="mt-3">Test Users:</h5>
                                <ul class="list-unstyled">
                                    <li><strong>chris / 1234:</strong> Admin user</li>
                                    <li><strong>bob / 1234:</strong> Regular user</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Documentation Section -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h3 class="mb-0">API Documentation</h3>
                    </div>
                    <div class="card-body">
                        <div id="api-docs">
                            <div class="text-center">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/app.js"></script>
</body>
</html>
